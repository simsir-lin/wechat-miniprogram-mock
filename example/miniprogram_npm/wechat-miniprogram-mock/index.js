"use strict";function Mock(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=Object.assign({ignore:[],delay:0},t),this.mockData={}}function _getPath(t){var e=t,o=t.split("?");return o.length>=2&&(e=o[0]),e}function getType(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}Mock.prototype={constructor:Mock,add:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:200,s=e.toUpperCase()+" "+t;this.mockData[s]={data:o,header:a,errMsg:"request:ok",statusCode:n}},start:function(){var t=this;wx=new Proxy(wx,{get:function(e,o,a){return"request"==o?function(o){var n=_getPath(o.url);if(t.options.ignore.indexOf(n)>=0){Reflect.get(e,s,a).call(this,o)}else{var s=(o.method||"get").toUpperCase()+" "+n;t.mockData[s]?t.options.delay>0?o.success(t.mockData[s]):setTimeout(function(){o.success(t.mockData[s])},t.options.delay):o.fail({data:{},header:{},errMsg:"".concat(o.url," notfound"),statusCode:404})}}:Reflect.get(e,o,a)}})}},module.exports=Mock;